<div align="center">

# ‚öΩ Forte K8s Workshop
## Football Microservices Platform

[![Docker Build](https://github.com/Thorstensen/forte-k8s-workshop/actions/workflows/docker-build-push.yml/badge.svg)](https://github.com/Thorstensen/forte-k8s-workshop/actions/workflows/docker-build-push.yml)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Kubernetes](https://img.shields.io/badge/Kubernetes-v1.28-blue.svg)](https://kubernetes.io/)
[![Docker](https://img.shields.io/badge/Docker-Container%20Ready-2496ED.svg)](https://www.docker.com/)

**A comprehensive microservices ecosystem showcasing modern cloud-native development patterns**

*Learn Kubernetes, Docker, and microservices architecture through a real-world football management platform with betting, statistics, and notifications.*

[üöÄ Quick Start](#-quick-start) ‚Ä¢ [üìñ Documentation](#-documentation) ‚Ä¢ [üê≥ Docker Images](#-docker-images) ‚Ä¢ [üèóÔ∏è Architecture](#%EF%B8%8F-architecture-overview) ‚Ä¢ [ü§ù Contributing](#-contributing)

</div>

## üìã Table of Contents

- [üéØ What You'll Learn](#-what-youll-learn)
- [üèóÔ∏è Architecture Overview](#%EF%B8%8F-architecture-overview)
- [üöÄ Microservices](#-microservices)
- [üê≥ Docker Images](#-docker-images)
- [üöÄ Quick Start](#-quick-start)
- [‚ò∏Ô∏è Kubernetes Deployment](#%EF%B8%8F-kubernetes-deployment)
- [üìä C4 Architecture Diagrams](#-c4-architecture-diagrams)
- [üß™ Testing](#-testing)
- [üõ†Ô∏è Troubleshooting](#%EF%B8%8F-troubleshooting)
- [ü§ù Contributing](#-contributing)
- [üìö Learning Resources](#-learning-resources)
- [üìù License](#-license)

## üéØ What You'll Learn

This workshop demonstrates key concepts in modern cloud-native development:

- **üèóÔ∏è Microservices Architecture** - Service decomposition and communication patterns
- **üì¶ Containerization** - Docker best practices across different technology stacks
- **‚ò∏Ô∏è Kubernetes Orchestration** - Deployment, scaling, and service discovery
- **üîÑ Service Integration** - API design and data consistency strategies
- **üìä Observability** - Health checks, monitoring, and debugging
- **üõ°Ô∏è Security** - Container security, RBAC, and secret management
- **‚öñÔ∏è Load Balancing** - Traffic distribution and high availability
- **üìà Scaling** - Horizontal pod autoscaling and resource management

## üèóÔ∏è Architecture Overview

The platform consists of **6 microservices** built with different technology stacks to showcase polyglot development and Kubernetes orchestration:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Frontend      ‚îÇ    ‚îÇ  Team Generator ‚îÇ    ‚îÇ Match Scheduler ‚îÇ
‚îÇ React TypeScript‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ    C# .NET      ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ  TypeScript     ‚îÇ
‚îÇ     (UI)        ‚îÇ    ‚îÇ   (Teams)       ‚îÇ    ‚îÇ   (Matches)     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚ñ≤                       ‚ñ≤                       ‚ñ≤
         ‚îÇ              Shared IDs (no direct calls)    ‚îÇ
         ‚ñº                       ‚ñº                       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Betting Service ‚îÇ    ‚îÇ Stats Aggregator‚îÇ    ‚îÇNotification Ctr ‚îÇ
‚îÇ Python FastAPI  ‚îÇ    ‚îÇ   Rust Axum     ‚îÇ    ‚îÇ   Go Gorilla    ‚îÇ
‚îÇ   (Betting)     ‚îÇ    ‚îÇ  (Statistics)   ‚îÇ    ‚îÇ (Notifications) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### üìä C4 Model Diagrams

> **üìñ View Interactive Diagrams**: The architecture diagrams below use PlantUML format. For the best viewing experience:
> - **GitHub Users**: View this repository on GitHub - the diagrams render automatically
> - **Local Development**: Use VS Code with the PlantUML extension
> - **Online Viewer**: Copy diagram code to [PlantUML Web Server](http://www.plantuml.com/plantuml/uml/)
> - **Detailed Documentation**: [C4 Model Details](documentation/diagrams/c4/README.md)

#### üåê Level 1: System Context
*How the Forte Football Platform fits into the broader ecosystem*

[![System Context](https://www.plantuml.com/plantuml/proxy?cache=no&src=https://raw.githubusercontent.com/Thorstensen/forte-k8s-workshop/main/documentation/diagrams/c4/context.puml)](documentation/diagrams/c4/context.puml)

<details>
<summary>üìÑ View PlantUML Source</summary>

```plantuml
@startuml "Forte K8s Workshop - System Context"
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml

LAYOUT_TOP_DOWN()

title Forte K8s Workshop - System Context Diagram

Person(user, "Football Fan", "Wants to view matches, place bets, and receive notifications")
Person(admin, "System Administrator", "Manages teams, schedules matches, and monitors system")

System(forte_system, "Forte Football Platform", "Microservices-based football management platform with betting, statistics, and notifications")

System_Ext(browser, "Web Browser", "User interface for accessing the platform")
System_Ext(kubernetes, "Kubernetes Cluster", "Container orchestration platform hosting all microservices")

Rel(user, forte_system, "Views matches, places bets, receives notifications", "HTTPS")
Rel(admin, forte_system, "Manages teams and matches", "HTTPS")
Rel(forte_system, browser, "Serves web interface", "HTTPS")
Rel(forte_system, kubernetes, "Deployed on", "Container Runtime")

SHOW_LEGEND()
@enduml
```
</details>

#### üèóÔ∏è Level 2: Container Diagram  
*Detailed microservices architecture showing container interactions*

[![Container Diagram](https://www.plantuml.com/plantuml/proxy?cache=no&src=https://raw.githubusercontent.com/Thorstensen/forte-k8s-workshop/main/documentation/diagrams/c4/container.puml)](documentation/diagrams/c4/container.puml)

<details>
<summary>üìÑ View PlantUML Source</summary>

```plantuml
@startuml "Forte K8s Workshop - Container Diagram"
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

LAYOUT_TOP_DOWN()

title Forte K8s Workshop - Container Diagram (Microservices Architecture)

Person(user, "Football Fan", "Views matches, places bets, receives notifications")
Person(admin, "Administrator", "Manages teams and schedules matches")

System_Boundary(forte_platform, "Forte Football Platform") {
    Container(frontend, "Frontend", "React TypeScript", "Web interface for users to interact with all services")
    
    Container(team_generator, "Team Generator", "C# .NET Core", "Generates and manages football teams with shared IDs")
    Container(betting_service, "Betting Service", "Python FastAPI", "Manages betting odds and allows users to place bets")
    Container(match_scheduler, "Match Scheduler", "TypeScript Express", "Schedules matches with conflict detection")
    Container(stats_aggregator, "Stats Aggregator", "Rust Axum", "Generates realistic match statistics")
    Container(notification_center, "Notification Center", "Go Gorilla Mux", "Manages real-time match notifications")
}

System_Ext(kubernetes, "Kubernetes", "Container orchestration platform")

' User interactions
Rel(user, frontend, "Uses", "HTTPS")
Rel(admin, frontend, "Uses", "HTTPS")

' Frontend to microservices
Rel(frontend, team_generator, "Gets teams", "REST API")
Rel(frontend, betting_service, "Places bets, gets odds", "REST API")
Rel(frontend, match_scheduler, "Schedules/views matches", "REST API")
Rel(frontend, stats_aggregator, "Gets match statistics", "REST API")
Rel(frontend, notification_center, "Gets notifications", "REST API")

' Service interactions (via shared IDs - no direct calls)
Rel_Back(team_generator, match_scheduler, "Shares team IDs", "Consistent Data")
Rel_Back(match_scheduler, betting_service, "Shares match IDs", "Consistent Data")
Rel_Back(match_scheduler, notification_center, "Shares match/team IDs", "Consistent Data")
Rel_Back(team_generator, stats_aggregator, "Shares team IDs", "Consistent Data")

' Deployment
Rel(forte_platform, kubernetes, "Deployed on", "Docker Containers")

SHOW_LEGEND()
@enduml
```
</details>

#### ‚öôÔ∏è Level 3: Component Diagrams
*Internal structure of key services*

**Frontend Components:**
[![Frontend Components](https://www.plantuml.com/plantuml/proxy?cache=no&src=https://raw.githubusercontent.com/Thorstensen/forte-k8s-workshop/main/documentation/diagrams/c4/frontend-components.puml)](documentation/diagrams/c4/frontend-components.puml)

**Team Generator Components (Clean Architecture):**
[![Team Generator Components](https://www.plantuml.com/plantuml/proxy?cache=no&src=https://raw.githubusercontent.com/Thorstensen/forte-k8s-workshop/main/documentation/diagrams/c4/team-generator-components.puml)](documentation/diagrams/c4/team-generator-components.puml)

> üí° **Tip**: Click on any diagram to view the full PlantUML source code and detailed architecture documentation.

## üöÄ Microservices

The platform consists of **6 specialized microservices**, each built with different technology stacks to demonstrate polyglot development:

<div align="center">

| Service | Technology | Port | Documentation | API Docs |
|---------|------------|------|---------------|----------|
| **Frontend** | React + TypeScript | 3001 | [üìñ README](06%20-%20Frontend/README.md) | Web UI |
| **Team Generator** | C# .NET Core | 5000 | [üìñ README](01%20-%20TeamGenerator/README.md) | [üîó Swagger](http://localhost:5000/swagger) |
| **Betting Service** | Python FastAPI | 8080 | [üìñ README](02%20-%20BettingService/README.md) | [üîó Docs](http://localhost:8080/api/docs) |
| **Match Scheduler** | TypeScript Express | 3000 | [üìñ README](03%20-%20MatchScheduler/README.md) | [üîó Swagger](http://localhost:3000/api/docs) |
| **Stats Aggregator** | Rust Axum | 8080 | [üìñ README](04%20-%20StatsAggregator/README.md) | [üîó Docs](http://localhost:8080/api/docs) |
| **Notification Center** | Go Gorilla Mux | 8080 | [üìñ README](05%20-%20NotificationCenter/README.md) | [üîó Swagger](http://localhost:8080/swagger/index.html) |

</div>

### üéØ Service Details

<details>
<summary><strong>01 - Team Generator (C# .NET Core)</strong></summary>

**üèóÔ∏è Architecture**: Clean Architecture with Domain-Driven Design
- ‚úÖ Generate and manage football teams
- ‚úÖ Shared team IDs (team-1 to team-6)
- ‚úÖ RESTful API with comprehensive Swagger documentation
- ‚úÖ Health monitoring and dependency injection
- ‚úÖ In-memory storage with repository pattern

**üîç Key Features**:
- Team creation with automatic ID mapping
- CRUD operations for team management
- Shared ID consistency across all services
- Production-ready health checks

</details>

<details>
<summary><strong>02 - Betting Service (Python FastAPI)</strong></summary>

**üéØ Purpose**: Comprehensive betting platform with realistic odds
- ‚úÖ Multiple bet types (match winner, goals, cards)
- ‚úÖ Dynamic odds calculation
- ‚úÖ Interactive Swagger UI with live documentation
- ‚úÖ In-memory storage with realistic sample data

**üîç Key Features**:
- Real-time betting odds
- Multiple betting markets
- Bet placement and tracking
- Statistical betting analytics

</details>

<details>
<summary><strong>03 - Match Scheduler (TypeScript Express)</strong></summary>

**‚öôÔ∏è Purpose**: Intelligent match scheduling with conflict detection
- ‚úÖ Advanced match scheduling algorithms
- ‚úÖ Team availability conflict detection
- ‚úÖ Match management (CRUD operations)
- ‚úÖ Production-ready security and validation

**üîç Key Features**:
- Smart scheduling with conflict resolution
- Match lifecycle management
- Team availability tracking
- Comprehensive API validation

</details>

<details>
<summary><strong>04 - Stats Aggregator (Rust Axum)</strong></summary>

**üìä Purpose**: High-performance match statistics generation
- ‚úÖ Realistic match statistics simulation
- ‚úÖ Comprehensive data (possession, shots, cards, xG)
- ‚úÖ OpenAPI 3.0 documentation
- ‚úÖ Ultra-fast async processing

**üîç Key Features**:
- Advanced statistical modeling
- Real-time match data generation
- Performance-optimized Rust backend
- Detailed match analytics

</details>

<details>
<summary><strong>05 - Notification Center (Go Gorilla Mux)</strong></summary>

**üì¢ Purpose**: Real-time event notification system
- ‚úÖ Dynamic match event generation
- ‚úÖ Team and match correlation
- ‚úÖ Real-time notification delivery
- ‚úÖ Comprehensive Swagger documentation

**üîç Key Features**:
- Live match event streaming
- Multi-channel notification delivery
- Event correlation and filtering
- High-performance Go backend

</details>

<details>
<summary><strong>06 - Frontend (React TypeScript)</strong></summary>

**üé® Purpose**: Modern, responsive web interface
- ‚úÖ Material-UI design system
- ‚úÖ Integration with all microservices
- ‚úÖ Real-time data fetching with React Query
- ‚úÖ Full TypeScript type safety

**üîç Key Features**:
- Interactive dashboard
- Real-time data updates
- Responsive mobile design
- Comprehensive service integration

</details>

## üê≥ Docker Images

All services are containerized and automatically built using GitHub Actions. Pre-built images are available from GitHub Container Registry (GHCR).

### üì¶ Available Images

| Service | Image | Latest | Pull Command |
|---------|-------|--------|--------------|
| **Team Generator** | `ghcr.io/thorstensen/forte-k8s-workshop/team-generator` | ![Latest](https://img.shields.io/badge/latest-v1.0-blue) | `docker pull ghcr.io/thorstensen/forte-k8s-workshop/team-generator:latest` |
| **Betting Service** | `ghcr.io/thorstensen/forte-k8s-workshop/betting-service` | ![Latest](https://img.shields.io/badge/latest-v1.0-blue) | `docker pull ghcr.io/thorstensen/forte-k8s-workshop/betting-service:latest` |
| **Match Scheduler** | `ghcr.io/thorstensen/forte-k8s-workshop/match-scheduler` | ![Latest](https://img.shields.io/badge/latest-v1.0-blue) | `docker pull ghcr.io/thorstensen/forte-k8s-workshop/match-scheduler:latest` |
| **Stats Aggregator** | `ghcr.io/thorstensen/forte-k8s-workshop/stats-aggregator` | ![Latest](https://img.shields.io/badge/latest-v1.0-blue) | `docker pull ghcr.io/thorstensen/forte-k8s-workshop/stats-aggregator:latest` |
| **Notification Center** | `ghcr.io/thorstensen/forte-k8s-workshop/notification-center` | ![Latest](https://img.shields.io/badge/latest-v1.0-blue) | `docker pull ghcr.io/thorstensen/forte-k8s-workshop/notification-center:latest` |
| **Frontend** | `ghcr.io/thorstensen/forte-k8s-workshop/frontend` | ![Latest](https://img.shields.io/badge/latest-v1.0-blue) | `docker pull ghcr.io/thorstensen/forte-k8s-workshop/frontend:latest` |

### üîê Authentication (for private repositories)

If the repository is private, authenticate with GitHub Container Registry:

```bash
# Login to GHCR using a Personal Access Token
echo $GITHUB_TOKEN | docker login ghcr.io -u USERNAME --password-stdin

# Or use GitHub CLI (recommended)
gh auth login
echo $GITHUB_TOKEN | docker login ghcr.io -u $(gh api user --jq .login) --password-stdin
```

### üöÄ Quick Pull All Images

```bash
# Pull all latest images
docker pull ghcr.io/thorstensen/forte-k8s-workshop/team-generator:latest
docker pull ghcr.io/thorstensen/forte-k8s-workshop/betting-service:latest
docker pull ghcr.io/thorstensen/forte-k8s-workshop/match-scheduler:latest
docker pull ghcr.io/thorstensen/forte-k8s-workshop/stats-aggregator:latest
docker pull ghcr.io/thorstensen/forte-k8s-workshop/notification-center:latest
docker pull ghcr.io/thorstensen/forte-k8s-workshop/frontend:latest
```

### üèÉ‚Äç‚ôÇÔ∏è Run with Docker

```bash
# Run individual services
docker run -p 5000:5000 ghcr.io/thorstensen/forte-k8s-workshop/team-generator:latest
docker run -p 8080:8080 ghcr.io/thorstensen/forte-k8s-workshop/betting-service:latest
docker run -p 3000:3000 ghcr.io/thorstensen/forte-k8s-workshop/match-scheduler:latest
docker run -p 8080:8080 ghcr.io/thorstensen/forte-k8s-workshop/stats-aggregator:latest
docker run -p 8080:8080 ghcr.io/thorstensen/forte-k8s-workshop/notification-center:latest
docker run -p 3001:8080 ghcr.io/thorstensen/forte-k8s-workshop/frontend:latest
```

> üí° **Note**: The images are automatically built and pushed when changes are made to service directories. See [.github/workflows/docker-build-push.yml](.github/workflows/docker-build-push.yml) for build details.

## üîß Technology Stack

<div align="center">

| Layer | Technologies | Purpose |
|-------|-------------|---------|
| **Frontend** | React, TypeScript, Vite, Material-UI, React Query | Modern web interface |
| **API Gateway** | Individual service endpoints | RESTful API design |
| **Microservices** | C# .NET, Python FastAPI, TypeScript, Rust, Go | Polyglot architecture |
| **Containerization** | Docker, Multi-stage builds | Container-first deployment |
| **Orchestration** | Kubernetes, Helm Charts | Cloud-native deployment |
| **CI/CD** | GitHub Actions, GHCR | Automated build & deploy |
| **Documentation** | Swagger/OpenAPI, PlantUML C4 | Comprehensive docs |

</div>

### üéØ Service Technology Breakdown

| Service | Language | Framework | Port | Database | Key Features |
|---------|----------|-----------|------|----------|--------------|
| **Frontend** | TypeScript | React + Vite | 3001 | N/A | SPA, Real-time UI |
| **Team Generator** | C# | .NET Core 8 | 5000 | In-Memory | Clean Architecture |
| **Betting Service** | Python | FastAPI | 8080 | In-Memory | Async API |
| **Match Scheduler** | TypeScript | Express.js | 3000 | In-Memory | Validation & Security |
| **Stats Aggregator** | Rust | Axum | 8080 | In-Memory | High Performance |
| **Notification Center** | Go | Gorilla Mux | 8080 | In-Memory | Concurrent Processing |

## üÜî Shared Data Strategy

The platform maintains **data consistency** through shared entity IDs **without direct service communication** - a key microservices pattern:

### üèà Team ID Mapping
| Team Name | Shared ID | Description |
|-----------|-----------|-------------|
| Manchester United | `team-1` | Used across all services |
| Liverpool | `team-2` | Consistent reference |
| Chelsea | `team-3` | No direct coupling |
| Arsenal | `team-4` | Event-driven sync |
| Manchester City | `team-5` | Loose coupling |
| Tottenham | `team-6` | Independent scaling |

### ‚öΩ Match ID Format
- **Pattern**: `match-{number}` (e.g., `match-1`, `match-2`)
- **Usage**: Consistent across betting, statistics, and notifications
- **Benefits**: No service dependencies, easy debugging, clear traceability

üìñ **Deep Dive**: [Shared IDs Documentation](shared-ids.md)

## üöÄ Quick Start

### üîß Prerequisites

<details>
<summary><strong>Development Environment</strong></summary>

**Required:**
- üê≥ **Docker** 20.10+ and **Docker Compose** v2
- ‚ò∏Ô∏è **Kubernetes** cluster (minikube, kind, or cloud provider)
- üåê **Git** for repository management

**Optional (for local development):**
- üì¶ **Node.js** 18+ (Frontend & Match Scheduler)
- üî∑ **.NET 8 SDK** (Team Generator)
- üêç **Python 3.11+** (Betting Service)
- ü¶Ä **Rust 1.80+** (Stats Aggregator)
- üêπ **Go 1.24+** (Notification Center)

</details>

### ‚ö° Option 1: Docker Images (Fastest)

Perfect for **testing** and **Kubernetes deployment**:

```bash
# 1. Pull all pre-built images
docker pull ghcr.io/thorstensen/forte-k8s-workshop/team-generator:latest
docker pull ghcr.io/thorstensen/forte-k8s-workshop/betting-service:latest
docker pull ghcr.io/thorstensen/forte-k8s-workshop/match-scheduler:latest
docker pull ghcr.io/thorstensen/forte-k8s-workshop/stats-aggregator:latest
docker pull ghcr.io/thorstensen/forte-k8s-workshop/notification-center:latest
docker pull ghcr.io/thorstensen/forte-k8s-workshop/frontend:latest

# 2. Run services (in separate terminals)
docker run -p 5000:5000 ghcr.io/thorstensen/forte-k8s-workshop/team-generator:latest
docker run -p 8001:8080 ghcr.io/thorstensen/forte-k8s-workshop/betting-service:latest
docker run -p 3000:3000 ghcr.io/thorstensen/forte-k8s-workshop/match-scheduler:latest
docker run -p 8002:8080 ghcr.io/thorstensen/forte-k8s-workshop/stats-aggregator:latest
docker run -p 8003:8080 ghcr.io/thorstensen/forte-k8s-workshop/notification-center:latest
docker run -p 3001:8080 ghcr.io/thorstensen/forte-k8s-workshop/frontend:latest

# 3. Access services
echo "üé® Frontend: http://localhost:3001"
echo "üèà Team Generator: http://localhost:5000/swagger"
echo "üí∞ Betting Service: http://localhost:8001/api/docs"
echo "üìÖ Match Scheduler: http://localhost:3000/api/docs"
echo "üìä Stats Aggregator: http://localhost:8002/api/docs"
echo "üì¢ Notifications: http://localhost:8003/swagger/index.html"
```

### üõ†Ô∏è Option 2: Local Development

Perfect for **learning** and **contributing**:

```bash
# 1. Clone repository
git clone https://github.com/Thorstensen/forte-k8s-workshop.git
cd forte-k8s-workshop

# 2. Start services (each in separate terminal)
# Terminal 1 - Frontend
cd "06 - Frontend"
npm install && npm run dev
# Access: http://localhost:3001

# Terminal 2 - Team Generator
cd "01 - TeamGenerator"
dotnet run --project src/TeamGenerator.Api
# Access: http://localhost:5000/swagger

# Terminal 3 - Betting Service
cd "02 - BettingService"
pip install -r requirements.txt
python main.py
# Access: http://localhost:8080/api/docs

# Terminal 4 - Match Scheduler
cd "03 - MatchScheduler"
npm install && npm run dev
# Access: http://localhost:3000/api/docs

# Terminal 5 - Stats Aggregator
cd "04 - StatsAggregator"
cargo run
# Access: http://localhost:8080/api/docs

# Terminal 6 - Notification Center
cd "05 - NotificationCenter"
go run main.go
# Access: http://localhost:8080/swagger/index.html
```

### üèóÔ∏è Option 3: Build Your Own Images

Perfect for **customization** and **CI/CD understanding**:

```bash
# Build all services locally
docker build -t team-generator ./01\ -\ TeamGenerator/
docker build -t betting-service ./02\ -\ BettingService/
docker build -t match-scheduler ./03\ -\ MatchScheduler/
docker build -t stats-aggregator ./04\ -\ StatsAggregator/
docker build -t notification-center ./05\ -\ NotificationCenter/
docker build -t forte-frontend ./06\ -\ Frontend/

# Run your custom builds
docker run -p 5000:5000 team-generator
docker run -p 8080:8080 betting-service
# ... etc
```

### ‚úÖ Verify Setup

Check that all services are running:

```bash
# Health check script
curl -f http://localhost:5000/api/health || echo "‚ùå Team Generator down"
curl -f http://localhost:8080/api/health || echo "‚ùå Betting Service down"  
curl -f http://localhost:3000/api/health || echo "‚ùå Match Scheduler down"
curl -f http://localhost:8080/api/health || echo "‚ùå Stats Aggregator down"
curl -f http://localhost:8080/api/health || echo "‚ùå Notification Center down"
curl -f http://localhost:3001 || echo "‚ùå Frontend down"

echo "‚úÖ All services running! Visit http://localhost:3001"
```

## ‚ò∏Ô∏è Kubernetes Deployment

### üéØ Learning Objectives

This workshop demonstrates essential Kubernetes concepts through practical implementation:

| Concept | Implementation | Learning Outcome |
|---------|---------------|------------------|
| **üèóÔ∏è Microservices** | 6 independent services | Service decomposition patterns |
| **üì¶ Pods & Deployments** | Multi-replica deployments | Workload management |
| **üîÑ Services & Discovery** | Service-to-service communication | Network abstractions |
| **‚öñÔ∏è Load Balancing** | Traffic distribution | High availability patterns |
| **üìä Health Checks** | Liveness & readiness probes | Self-healing systems |
| **üîß ConfigMaps & Secrets** | Environment configuration | Configuration management |
| **üìà Scaling** | Horizontal Pod Autoscaler | Auto-scaling strategies |
| **üõ°Ô∏è Security** | RBAC, NetworkPolicies | Zero-trust networking |
| **üìã Ingress** | External traffic routing | API gateway patterns |

### üöÄ Quick Kubernetes Deploy

> **üìù Note**: Kubernetes manifests are maintained on the `k8s-deployment` branch to keep the main branch focused on application code.

```bash
# 1. Switch to deployment branch
git checkout k8s-deployment

# 2. Deploy to your Kubernetes cluster
kubectl apply -f k8s/

# 3. Check deployment status
kubectl get pods -n forte-workshop

# 4. Access services via port-forward
kubectl port-forward svc/frontend 3001:80 -n forte-workshop
```

### üèóÔ∏è Deployment Structure

Each service includes complete Kubernetes manifests:

```
k8s/
‚îú‚îÄ‚îÄ 00-namespace.yaml           # Namespace isolation
‚îú‚îÄ‚îÄ 01-team-generator/
‚îÇ   ‚îú‚îÄ‚îÄ deployment.yaml         # Pod specification & scaling
‚îÇ   ‚îú‚îÄ‚îÄ service.yaml           # Internal service discovery
‚îÇ   ‚îî‚îÄ‚îÄ configmap.yaml         # Environment configuration
‚îú‚îÄ‚îÄ 02-betting-service/
‚îú‚îÄ‚îÄ 03-match-scheduler/
‚îú‚îÄ‚îÄ 04-stats-aggregator/
‚îú‚îÄ‚îÄ 05-notification-center/
‚îú‚îÄ‚îÄ 06-frontend/
‚îî‚îÄ‚îÄ ingress.yaml               # External traffic routing
```

### üåê Production Considerations

<details>
<summary><strong>Recommended Kubernetes Setup</strong></summary>

**Cluster Requirements:**
- Kubernetes 1.28+
- Minimum 4GB RAM, 2 CPU cores
- Storage class for persistent volumes
- Load balancer support (cloud or MetalLB)

**Recommended Addons:**
- **Ingress Controller**: NGINX or Traefik
- **Monitoring**: Prometheus + Grafana
- **Logging**: ELK Stack or Loki
- **Service Mesh**: Istio (advanced)

</details>

## üìä C4 Architecture Diagrams

The complete architecture is documented using the **C4 Model** for clear visualization at different abstraction levels. This section provides rendered diagrams that work across all viewing platforms.

> **üí° Viewing Options**:
> - **GitHub**: Diagrams render automatically when viewing this repository
> - **Local**: Use VS Code with PlantUML extension
> - **Web**: Copy code to [PlantUML Server](http://www.plantuml.com/plantuml/uml/)
> - **Detailed Docs**: [C4 Model Documentation](documentation/diagrams/c4/README.md)

### üåê Level 1: System Context
*Shows how the Forte Football Platform fits into the broader ecosystem*

[![System Context Diagram](https://www.plantuml.com/plantuml/proxy?cache=no&src=https://raw.githubusercontent.com/Thorstensen/forte-k8s-workshop/main/documentation/diagrams/c4/context.puml)](documentation/diagrams/c4/context.puml)

<details>
<summary>üìã View PlantUML Source Code</summary>

```plantuml
@startuml "Forte K8s Workshop - System Context"
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml

LAYOUT_TOP_DOWN()

title Forte K8s Workshop - System Context Diagram

Person(user, "Football Fan", "Wants to view matches, place bets, and receive notifications")
Person(admin, "System Administrator", "Manages teams, schedules matches, and monitors system")

System(forte_system, "Forte Football Platform", "Microservices-based football management platform with betting, statistics, and notifications")

System_Ext(browser, "Web Browser", "User interface for accessing the platform")
System_Ext(kubernetes, "Kubernetes Cluster", "Container orchestration platform hosting all microservices")

Rel(user, forte_system, "Views matches, places bets, receives notifications", "HTTPS")
Rel(admin, forte_system, "Manages teams and matches", "HTTPS")
Rel(forte_system, browser, "Serves web interface", "HTTPS")
Rel(forte_system, kubernetes, "Deployed on", "Container Runtime")

SHOW_LEGEND()
@enduml
```
</details>

### üèóÔ∏è Level 2: Container Diagram
*Detailed microservices architecture showing container interactions*

[![Container Diagram](https://www.plantuml.com/plantuml/proxy?cache=no&src=https://raw.githubusercontent.com/Thorstensen/forte-k8s-workshop/main/documentation/diagrams/c4/container.puml)](documentation/diagrams/c4/container.puml)

**Key Architectural Decisions:**
- **üîÑ No Direct Service Communication**: Services coordinate through shared IDs
- **üì° API-First Design**: All interactions via REST APIs
- **üèóÔ∏è Technology Diversity**: Each service uses different tech stack for learning
- **üì¶ Container-First**: All services designed for Kubernetes deployment

### ‚öôÔ∏è Level 3: Component Diagrams
*Internal structure of key services showing clean architecture patterns*

| Service | Component Diagram | Architecture Pattern |
|---------|------------------|---------------------|
| **Frontend** | [![Frontend Components](https://www.plantuml.com/plantuml/proxy?cache=no&src=https://raw.githubusercontent.com/Thorstensen/forte-k8s-workshop/main/documentation/diagrams/c4/frontend-components.puml)](documentation/diagrams/c4/frontend-components.puml) | React + TypeScript SPA |
| **Team Generator** | [![Team Generator Components](https://www.plantuml.com/plantuml/proxy?cache=no&src=https://raw.githubusercontent.com/Thorstensen/forte-k8s-workshop/main/documentation/diagrams/c4/team-generator-components.puml)](documentation/diagrams/c4/team-generator-components.puml) | Clean Architecture + DDD |

## üß™ Testing

### üîç Integration Testing

Test shared ID consistency across all services:

```bash
# Run the comprehensive integration test
python3 tests/shared-id-consistency.py

# Expected output:
# ‚úÖ Team Generator: All 6 teams accessible
# ‚úÖ Betting Service: Team IDs match
# ‚úÖ Match Scheduler: Team references valid
# ‚úÖ Stats Aggregator: Team data consistent
# ‚úÖ Notification Center: Team mapping correct
# ‚úÖ Frontend: All integrations working
```

### üß™ Individual Service Testing

Each service includes comprehensive test suites:

<details>
<summary><strong>Service-Specific Tests</strong></summary>

```bash
# Team Generator (.NET Core)
cd "01 - TeamGenerator"
dotnet test

# Betting Service (Python)
cd "02 - BettingService"
pytest tests/

# Match Scheduler (TypeScript)
cd "03 - MatchScheduler"
npm test

# Stats Aggregator (Rust)
cd "04 - StatsAggregator"
cargo test

# Notification Center (Go)
cd "05 - NotificationCenter"
go test ./...

# Frontend (React)
cd "06 - Frontend"
npm run test
```

</details>

### üöÄ Load Testing

Test system under realistic load:

```bash
# Install k6 load testing tool
# macOS: brew install k6
# Linux: See https://k6.io/docs/getting-started/installation/

# Run load tests
k6 run tests/load-test.js
```

## üõ†Ô∏è Troubleshooting

### üîß Common Issues

<details>
<summary><strong>üê≥ Docker Issues</strong></summary>

**Problem**: Docker build fails with "architecture not supported"
```bash
# Solution: Use multi-platform builds
docker buildx create --use
docker buildx build --platform linux/amd64,linux/arm64 -t myimage .
```

**Problem**: Container exits immediately
```bash
# Check logs
docker logs <container-id>

# Run interactively for debugging
docker run -it --entrypoint /bin/sh <image-name>
```

</details>

<details>
<summary><strong>‚ò∏Ô∏è Kubernetes Issues</strong></summary>

**Problem**: Pods stuck in Pending state
```bash
# Check node resources
kubectl describe nodes

# Check pod events
kubectl describe pod <pod-name> -n forte-workshop
```

**Problem**: Service not accessible
```bash
# Check service endpoints
kubectl get endpoints -n forte-workshop

# Test internal connectivity
kubectl run debug --image=busybox --rm -it -- nslookup <service-name>
```

</details>

<details>
<summary><strong>üåê Network Issues</strong></summary>

**Problem**: Services can't communicate
```bash
# Check service discovery
kubectl get svc -n forte-workshop

# Test connectivity between pods
kubectl exec -it <pod-name> -- curl http://<service-name>:port/health
```

**Problem**: Frontend can't reach APIs
```bash
# Check CORS configuration
# Verify API endpoints are accessible
curl -i http://localhost:5000/api/health
```

</details>

### üìã Health Check Endpoints

All services provide health check endpoints:

| Service | Health Endpoint | Expected Response |
|---------|----------------|-------------------|
| Team Generator | `GET /api/health` | `{"status": "healthy"}` |
| Betting Service | `GET /api/health` | `{"status": "ok"}` |
| Match Scheduler | `GET /api/health` | `{"success": true}` |
| Stats Aggregator | `GET /api/health` | `{"status": "healthy"}` |
| Notification Center | `GET /api/health` | `{"status": "ok"}` |
| Frontend | `GET /health` | `200 OK` |

## ü§ù Contributing

We welcome contributions to improve the Forte K8s Workshop! Here's how you can help:

### üöÄ Getting Started

1. **üç¥ Fork the repository**
   ```bash
   gh repo fork Thorstensen/forte-k8s-workshop
   ```

2. **üì• Clone your fork**
   ```bash
   git clone https://github.com/YOUR-USERNAME/forte-k8s-workshop.git
   cd forte-k8s-workshop
   ```

3. **üåü Create a feature branch**
   ```bash
   git checkout -b feature/amazing-improvement
   ```

4. **üîç Explore the architecture**
   - Review [C4 diagrams](documentation/diagrams/c4/)
   - Understand [shared ID strategy](shared-ids.md)
   - Read service-specific READMEs

### üõ†Ô∏è Development Workflow

1. **üèÉ‚Äç‚ôÇÔ∏è Set up development environment**
   ```bash
   # Choose your preferred method
   # Option 1: Use pre-built Docker images (fastest)
   # Option 2: Local development (best for changes)
   # Option 3: Build custom images (best for CI/CD)
   ```

2. **‚úÖ Make your changes**
   - Follow existing patterns in each service
   - Maintain shared ID consistency
   - Update relevant documentation
   - Add/update tests as needed

3. **üß™ Test thoroughly**
   ```bash
   # Run integration tests
   python3 tests/shared-id-consistency.py
   
   # Test affected services individually
   # See service README files for specific test commands
   ```

4. **üìù Document your changes**
   - Update service README files
   - Update architecture diagrams if needed
   - Add examples for new features

### üéØ Contribution Areas

<details>
<summary><strong>üîß Code Improvements</strong></summary>

- **Service Enhancements**: Add new features to existing services
- **Performance Optimization**: Improve response times and resource usage
- **Security Hardening**: Implement additional security measures
- **Error Handling**: Improve error messages and recovery
- **API Design**: Enhance REST API interfaces

</details>

<details>
<summary><strong>üìö Documentation</strong></summary>

- **Architecture Documentation**: Improve C4 diagrams and explanations
- **Tutorial Content**: Create step-by-step guides
- **Best Practices**: Document patterns and anti-patterns
- **Troubleshooting**: Add common issues and solutions
- **Examples**: Provide real-world usage scenarios

</details>

<details>
<summary><strong>‚ò∏Ô∏è Kubernetes & DevOps</strong></summary>

- **Helm Charts**: Create parameterized deployments
- **Monitoring**: Add Prometheus metrics and Grafana dashboards
- **Logging**: Implement structured logging and aggregation
- **Security**: Add network policies and RBAC configurations
- **CI/CD**: Improve GitHub Actions workflows

</details>

<details>
<summary><strong>üß™ Testing & Quality</strong></summary>

- **Unit Tests**: Improve test coverage for all services
- **Integration Tests**: Add more comprehensive API tests
- **Load Testing**: Create realistic performance tests
- **Security Testing**: Add vulnerability scanning
- **Code Quality**: Implement linting and formatting

</details>

### üìã Pull Request Guidelines

1. **üìù Clear Description**
   - Explain what you changed and why
   - Reference any related issues
   - Include screenshots for UI changes

2. **‚úÖ Testing Checklist**
   - [ ] Integration tests pass
   - [ ] Individual service tests pass
   - [ ] Manual testing completed
   - [ ] Documentation updated

3. **üîç Code Quality**
   - Follow existing code style
   - Add appropriate comments
   - Ensure clean git history

### üêõ Bug Reports

Found a bug? Please open an issue with:

- **Environment**: OS, Docker version, Kubernetes version
- **Steps to Reproduce**: Detailed steps to recreate the issue
- **Expected Behavior**: What you expected to happen
- **Actual Behavior**: What actually happened
- **Logs**: Relevant error messages or logs
- **Screenshots**: If applicable

### üí° Feature Requests

Have an idea? Open an issue with:

- **Use Case**: Why this feature would be valuable
- **Proposed Solution**: How you envision it working
- **Alternatives**: Other solutions you've considered
- **Implementation**: Technical approach (if you have ideas)

## üìö Learning Resources

### üéì Recommended Learning Path

<div align="center">

| Phase | Topic | Resources | Duration |
|-------|-------|-----------|----------|
| **1** | **Container Basics** | [Docker Documentation](https://docs.docker.com/) | 1-2 weeks |
| **2** | **Kubernetes Core** | [Kubernetes.io Tutorials](https://kubernetes.io/docs/tutorials/) | 2-3 weeks |
| **3** | **Microservices** | [Microservices.io](https://microservices.io/) | 2-4 weeks |
| **4** | **Observability** | [CNCF Landscape](https://landscape.cncf.io/) | 1-2 weeks |
| **5** | **Advanced Topics** | Service Mesh, GitOps | Ongoing |

</div>

### üîó External Resources

<details>
<summary><strong>üìñ Documentation & Tutorials</strong></summary>

**Kubernetes:**
- [Official Kubernetes Documentation](https://kubernetes.io/docs/)
- [Kubernetes by Example](https://kubernetesbyexample.com/)
- [Play with Kubernetes](https://labs.play-with-k8s.com/)

**Docker & Containers:**
- [Docker Getting Started](https://docs.docker.com/get-started/)
- [Container Best Practices](https://cloud.google.com/architecture/best-practices-for-building-containers)

**Microservices Architecture:**
- [Building Microservices (O'Reilly)](https://www.oreilly.com/library/view/building-microservices/9781491950340/)
- [Microservices Patterns](https://microservices.io/patterns/)
- [API Design Guide](https://cloud.google.com/apis/design)

</details>

<details>
<summary><strong>üõ†Ô∏è Tools & Platforms</strong></summary>

**Development:**
- [Visual Studio Code](https://code.visualstudio.com/) with Kubernetes extension
- [Docker Desktop](https://www.docker.com/products/docker-desktop)
- [kubectl](https://kubernetes.io/docs/tasks/tools/install-kubectl/)

**Local Kubernetes:**
- [Minikube](https://minikube.sigs.k8s.io/docs/)
- [Kind](https://kind.sigs.k8s.io/)
- [k3s](https://k3s.io/)

**Cloud Providers:**
- [Google Kubernetes Engine (GKE)](https://cloud.google.com/kubernetes-engine)
- [Amazon Elastic Kubernetes Service (EKS)](https://aws.amazon.com/eks/)
- [Azure Kubernetes Service (AKS)](https://azure.microsoft.com/services/kubernetes-service/)

</details>

<details>
<summary><strong>üé• Videos & Courses</strong></summary>

**YouTube Channels:**
- [TechWorld with Nana](https://www.youtube.com/c/TechWorldwithNana)
- [That DevOps Guy](https://www.youtube.com/c/MarcelDempers)
- [CNCF](https://www.youtube.com/c/CloudNativeComputingFoundation)

**Online Courses:**
- [Kubernetes for Developers (Linux Foundation)](https://training.linuxfoundation.org/training/kubernetes-for-developers/)
- [Docker and Kubernetes: The Complete Guide](https://www.udemy.com/course/docker-and-kubernetes-the-complete-guide/)

</details>

### üèóÔ∏è Architecture Deep Dives

- **üìä C4 Model**: [Detailed Architecture Documentation](documentation/diagrams/c4/README.md)
- **üÜî Shared Data Strategy**: [Shared IDs Documentation](shared-ids.md)
- **üîÑ Service Integration Patterns**: See individual service README files
- **üìà Scaling Strategies**: [Kubernetes Deployment Guide](k8s-deployment)

### üß™ Hands-On Labs

1. **üöÄ Basic Deployment**: Deploy all services locally
2. **‚ò∏Ô∏è Kubernetes Migration**: Move to Kubernetes cluster
3. **üìä Monitoring Setup**: Add Prometheus and Grafana
4. **üîí Security Hardening**: Implement RBAC and network policies
5. **üìà Auto-Scaling**: Configure HPA and VPA
6. **üîÑ CI/CD Pipeline**: Set up GitOps workflow

---

<div align="center">

## üìù License

This project is licensed under the **MIT License** - see the [LICENSE](LICENSE) file for details.

**üéì Educational Use**: This project is designed for educational purposes as part of the Forte K8s Workshop. Feel free to use, modify, and distribute for learning and teaching.

---

### üåü Star History

[![Star History Chart](https://api.star-history.com/svg?repos=Thorstensen/forte-k8s-workshop&type=Date)](https://star-history.com/#Thorstensen/forte-k8s-workshop&Date)

---

**Made with ‚ù§Ô∏è for the Kubernetes community**

[‚¨ÜÔ∏è Back to Top](#-forte-k8s-workshop)

</div>